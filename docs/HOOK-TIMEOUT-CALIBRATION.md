# Hook Timeout Calibration Report

**Generated by:** `scripts/profile_hooks.py`
**Methodology:** 5 runs per hook, 95th percentile × 3 for safety margin

## Recommendations

| Hook | Mean (s) | P95 (s) | Recommended | Current | Change |
|------|----------|---------|-------------|---------|--------|
| bandit | 5.20 | 6.52 | 19 | 300 | -281s ✅ |
| check-added-large-files | 0.20 | 0.27 | 10 | 60 | -50s ✅ |
| check-toml | 20.00 | 26.58 | 79 | 60 | +19s ⚠️ |
| check-yaml | 0.40 | 0.53 | 10 | 60 | -50s ✅ |
| codespell | 1.00 | 1.33 | 10 | 60 | -50s ✅ |
| complexipy | 3.50 | 4.49 | 13 | 60 | -47s ✅ |
| creosote | 2.80 | 3.62 | 10 | 300 | -290s ✅ |
| end-of-file-fixer | 0.30 | 0.38 | 10 | 60 | -50s ✅ |
| gitleaks | 3.00 | 3.82 | 11 | 60 | -49s ✅ |
| mdformat | 0.60 | 0.80 | 10 | 60 | -50s ✅ |
| refurb | 4.00 | 5.15 | 15 | 300 | -285s ✅ |
| ruff-check | 2.50 | 3.16 | 10 | 60 | -50s ✅ |
| ruff-format | 1.20 | 1.53 | 10 | 60 | -50s ✅ |
| skylos | 2.10 | 2.76 | 10 | 30 | -20s ✅ |
| trailing-whitespace | 0.30 | 0.38 | 10 | 60 | -50s ✅ |
| uv-lock | 1.50 | 1.99 | 10 | 60 | -50s ✅ |
| validate-regex-patterns | 0.50 | 0.66 | 10 | 30 | -20s ✅ |
| zuban | 8.50 | 10.97 | 32 | 30 | +2s ⚠️ |

## Analysis

### ⚠️ Hooks Needing Timeout Increase

These hooks may timeout prematurely:
- **check-toml**: 60s → 79s
- **zuban**: 30s → 32s

### ✅ Hooks With Excessive Timeouts

These hooks can fail faster:
- **validate-regex-patterns**: 30s → 10s
- **trailing-whitespace**: 60s → 10s
- **end-of-file-fixer**: 60s → 10s
- **check-yaml**: 60s → 10s
- **check-added-large-files**: 60s → 10s
- **uv-lock**: 60s → 10s
- **gitleaks**: 60s → 11s
- **codespell**: 60s → 10s
- **ruff-check**: 60s → 10s
- **ruff-format**: 60s → 10s
- **mdformat**: 60s → 10s
- **bandit**: 300s → 19s
- **skylos**: 30s → 10s
- **refurb**: 300s → 15s
- **creosote**: 300s → 10s
- **complexipy**: 60s → 13s

## Implementation

Update `crackerjack/config/hooks.py` with recommended timeout values:

```python
timeout=19,  # Phase 10.4.1: Profiled P95=6.52s, safety=3x
timeout=10,  # Phase 10.4.1: Profiled P95=0.27s, safety=3x
timeout=79,  # Phase 10.4.1: Profiled P95=26.58s, safety=3x
timeout=10,  # Phase 10.4.1: Profiled P95=0.53s, safety=3x
timeout=10,  # Phase 10.4.1: Profiled P95=1.33s, safety=3x
timeout=13,  # Phase 10.4.1: Profiled P95=4.49s, safety=3x
timeout=10,  # Phase 10.4.1: Profiled P95=3.62s, safety=3x
timeout=10,  # Phase 10.4.1: Profiled P95=0.38s, safety=3x
timeout=11,  # Phase 10.4.1: Profiled P95=3.82s, safety=3x
timeout=10,  # Phase 10.4.1: Profiled P95=0.80s, safety=3x
timeout=15,  # Phase 10.4.1: Profiled P95=5.15s, safety=3x
timeout=10,  # Phase 10.4.1: Profiled P95=3.16s, safety=3x
timeout=10,  # Phase 10.4.1: Profiled P95=1.53s, safety=3x
timeout=10,  # Phase 10.4.1: Profiled P95=2.76s, safety=3x
timeout=10,  # Phase 10.4.1: Profiled P95=0.38s, safety=3x
timeout=10,  # Phase 10.4.1: Profiled P95=1.99s, safety=3x
timeout=10,  # Phase 10.4.1: Profiled P95=0.66s, safety=3x
timeout=32,  # Phase 10.4.1: Profiled P95=10.97s, safety=3x
```
